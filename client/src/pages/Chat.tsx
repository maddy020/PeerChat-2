import { SetStateAction, useEffect, useRef, useState } from "react";
import { useNavigate } from "react-router-dom";
import Contacts from "../components/Contacts";
import { PeerDataEnum, userTypes } from "../types/userTypes";
import ShowChat from "../components/ShowChat";
import axios from "axios";
import { messageTypes } from "../types/userTypes";
import Peer, { DataConnection } from "peerjs";
import socket from "../util/socket";
import SideBar from "../components/SideBar";
import RequestModal from "../components/RequestModal";
import Connection from "../components/Connection";
import ConnectionChangePopup from "../components/ConnectionChangePopup";
import { PeerData } from "../types/userTypes";
import Loader from "../components/Loader";

const Chat = ({
  isLoggedIn,
  setisLoggedIn,
}: {
  isLoggedIn: boolean;
  setisLoggedIn: React.Dispatch<SetStateAction<boolean>>;
}) => {
  const [remotePeerId, setRemotePeerId] = useState<string>("");
  const [allUsers, setallUsers] = useState<userTypes[]>([]);
  const [selectedUserId, setSelectedUserId] = useState<string | null>(null);
  const peer = useRef<Peer | null>(null);
  const [peerId, setPeerId] = useState<string>("");
  const [connection, setConnection] = useState<DataConnection | null>(null);
  const [requestedId, setRequestedId] = useState<string | null>(null);
  const [messages, setMessages] = useState<Array<messageTypes>>([]);
  const remoteVideoRef = useRef<HTMLVideoElement | null>(null);
  const currentUserVideoRef = useRef<HTMLVideoElement | null>(null);
  const [isAllowedToChat, setisAllowedToChat] = useState<boolean>(false);
  const [openVideoCall, setOpenVideoCall] = useState<boolean>(false);
  const [popupLabel, setpopupLabel] = useState<string>("");
  const [userData, setUserData] = useState<userTypes[]>([]);
  const [currUser, setCurrUser] = useState<userTypes | null>(null);
  const [connlostpopup, setconnlostpopup] = useState<boolean>(false);
  const [connChangePopup, setConnChangePopup] = useState<boolean>(false);
  const [isUserFetching, setIsUserFetching] = useState<boolean>(false);
  const [gettingPeerId, setGettingPeerId] = useState<boolean>(false);
  const navigate = useNavigate();

  const handleReqAnswer = (id: string, from: string, popupLabel: string) => {
    setRemotePeerId(id);
    setisAllowedToChat(true);
    localStorage.setItem("remoteUserId", from);
    if (popupLabel === "Video") {
      call(id);
    }
    setRequestedId(null);
  };

  const call = (id: string) => {
    navigator.mediaDevices
      .getUserMedia({
        video: true,
        audio: true,
      })
      .then((stream) => {
        const call = peer.current?.call(id, stream);
        if (call) {
          call.on("stream", (userVideoStream) => {
            if (remoteVideoRef.current) {
              remoteVideoRef.current.srcObject = userVideoStream;
            }
          });
        }
      })
      .catch((error) => {
        console.log(error);
      });
  };
  useEffect(() => {
    socket.on("reqAccepted", (id: string, from: string, popupLabel: string) => {
      handleReqAnswer(id, from, popupLabel);
    });
    return () => {
      socket.off("reqAccepted");
    };
    // eslint-disable-next-line react-hooks/exhaustive-deps
  }, []);

  useEffect(() => {
    const token = localStorage.getItem("authtoken");
    if (!isLoggedIn || token == null) {
      navigate("/login");
      return;
    }
    async function getallUsers() {
      setIsUserFetching(true);
      const Base_Url = import.meta.env.VITE_BACKEND_BASE_URL;
      const response = await axios.get(`${Base_Url}/user/getallUsers`, {
        headers: {
          Authorization: `Bearer ${token}`,
        },
      });
      setallUsers(response.data);
      setUserData(response.data);
      setIsUserFetching(false);
    }
    socket.emit("addUser", localStorage.getItem("userID"));

    socket.on(
      "showPopup",
      ({ fromId, popupLabel }: { fromId: string; popupLabel: string }) => {
        console.log("showPopup");
        setRequestedId(fromId);
        setpopupLabel(popupLabel);
      }
    );
    socket.on("browserRefresh", () => {
      if (localStorage.getItem("remoteUserId")) setconnlostpopup(true);
    });
    getallUsers();

    return () => {
      socket.off("showPopup");
      socket.off("reqDeclined");
    };
    // eslint-disable-next-line react-hooks/exhaustive-deps
  }, []);

  useEffect(() => {
    const newPeer = new Peer("", { debug: 2 });
    setGettingPeerId(true);
    newPeer.on("open", async (id) => {
      setPeerId(id);
      setGettingPeerId(false);
      if (localStorage.getItem("remoteUserId")) {
        socket.emit("browserRefresh", localStorage.getItem("remoteUserId"));
        localStorage.removeItem("remoteUserId");
      }
    });
    peer.current = newPeer;

    newPeer.on("connection", (conn) => {
      setRequestedId(null);
      setConnection(conn);

      conn.on("data", (data) => {
        const value = data as PeerData;
        let currtime = new Date().toLocaleTimeString().substring(0, 5);
        if (currtime[currtime.length - 1] === ":")
          currtime = currtime.substring(0, 4);
        if (value.dataType === PeerDataEnum.file) {
          if (!value.file || !value.fileName) return;
          setMessages((prev) => [
            ...prev,
            {
              self: false,
              message: "",
              time: currtime,
              from: "",
              isFile: true,
              fileObject: value,
            },
          ]);
        } else {
          const receivedData = data as PeerData;
          const value = receivedData.message;
          if (!value) return;
          const message = value.substring(24);
          const from = value.substring(0, 24);
          if (message !== "")
            setMessages((prev) => [
              ...prev,
              {
                self: false,
                message: message,
                time: currtime,
                from: from,
                isFile: false,
                fileObject: null,
              },
            ]);
        }
      });
    });

    return () => {
      newPeer.destroy();
    };
  }, []);
  useEffect(() => {
    if (peer && peerId && remotePeerId) {
      const conn = peer.current?.connect(remotePeerId);
      if (conn) setConnection(conn);
      if (conn)
        conn.on("data", (data) => {
          const value = data as PeerData;
          let currtime = new Date().toLocaleTimeString().substring(0, 5);
          console.log(currtime);
          if (currtime[currtime.length - 1] === ":")
            currtime = currtime.substring(0, 4);
          if (value.dataType === PeerDataEnum.file) {
            if (!value.file || !value.fileName) return;
            setMessages((prev) => [
              ...prev,
              {
                self: false,
                message: "",
                time: currtime,
                from: "",
                isFile: true,
                fileObject: value,
              },
            ]);
          } else {
            const receivedData = data as PeerData;
            const value = receivedData.message;
            if (!value) return;
            const message = value.substring(24);
            const from = value.substring(0, 24);
            if (message !== "")
              setMessages((prev) => [
                ...prev,
                {
                  self: false,
                  message: message,
                  time: currtime,
                  from: from,
                  isFile: false,
                  fileObject: null,
                },
              ]);
          }
        });
    }
  }, [peer, peerId, remotePeerId]);

  return (
    <div className="h-screen md:flex relative ">
      <div
        className={`bg-[#252331] py-4 px-6 w-full absolute bottom-0 md:w-[7%] md:left-0 md:h-full md:px-2 lg:w-[5%]`}
      >
        <SideBar setisLoggedIn={setisLoggedIn} />
      </div>
      {(isUserFetching || gettingPeerId) && <Loader />}
      <div
        className={`h-full flex flex-col  ${
          selectedUserId !== null ? "hidden" : ""
        } p-3 gap-6 md:block md:w-[29%]  md:ml-[7%] lg:ml-[5%]`}
      >
        <Contacts
          allUsers={allUsers}
          setSelectedUserId={setSelectedUserId}
          userData={userData}
          setUserData={setUserData}
          setConnChangePopup={setConnChangePopup}
          isUserFetching={isUserFetching}
          selectedUserId={selectedUserId}
        />
      </div>

      {requestedId !== null && (
        <RequestModal
          peerId={peerId}
          to={requestedId}
          setRequestedId={setRequestedId}
          setSelectedUserId={setSelectedUserId}
          setisAllowedToChat={setisAllowedToChat}
          popupLabel={popupLabel}
          requestedId={requestedId}
          isSender={false}
          selectedUserId={selectedUserId}
          setConnChangePopup={setConnChangePopup}
          setVisible={() => {}}
        />
      )}
      {connChangePopup && (
        <ConnectionChangePopup
          peerId={peerId}
          to={requestedId}
          setRequestedId={setRequestedId}
          setSelectedUserId={setSelectedUserId}
          setisAllowedToChat={setisAllowedToChat}
          popupLabel={popupLabel}
          requestedId={requestedId}
          isSender={false}
          setConnChangePopup={setConnChangePopup}
        />
      )}
      {connlostpopup && <Connection setconnlostpopup={setconnlostpopup} />}
      <div
        className={`h-full ${
          selectedUserId === null ? "hidden" : ""
        } md:w-[63%] md:block lg:w-[65%]`}
      >
        {selectedUserId !== null ? (
          <ShowChat
            messages={messages}
            setMessages={setMessages}
            connection={connection}
            selectedUserId={selectedUserId}
            openVideoCall={openVideoCall}
            currentUserVideoRef={currentUserVideoRef}
            remoteVideoRef={remoteVideoRef}
            peer={peer}
            setOpenVideoCall={setOpenVideoCall}
            isAllowedToChat={isAllowedToChat}
            requestedId={requestedId}
            currUser={currUser}
            setCurrUser={setCurrUser}
            setConnChangePopup={setConnChangePopup}
          />
        ) : (
          <div className="flex flex-col justify-center items-center h-full border-slate-300 border-2">
            <svg
              version="1.1"
              xmlns="http://www.w3.org/2000/svg"
              width="500"
              height="281"
            >
              <path
                d="M0 0 C165 0 330 0 500 0 C500 92.73 500 185.46 500 281 C335 281 170 281 0 281 C0 188.27 0 95.54 0 0 Z "
                fill="#211F2C"
                transform="translate(0,0)"
              />
              <path
                d="M0 0 C4.49784829 -0.27503306 8.99107564 -0.47286539 13.49487305 -0.60424805 C15.02113158 -0.65907309 16.54682577 -0.73377737 18.07104492 -0.82983398 C26.29134494 -1.33432893 32.82840324 -1.24560392 39.53125 4.125 C46.74590994 12.60354197 45.16699674 23.168275 44.6875 33.6875 C44.460625 40.720625 44.23375 47.75375 44 55 C64.46 55.33 84.92 55.66 106 56 C106 70.85 106 85.7 106 101 C83.23 101 60.46 101 37 101 C37 86.81 37 72.62 37 58 C25.19736497 58.03960217 25.19736497 58.03960217 13.39477539 58.09008789 C11.92073641 58.09300709 10.44669663 58.09555564 8.97265625 58.09765625 C8.20046753 58.10277222 7.42827881 58.10788818 6.63269043 58.11315918 C4.75474813 58.11346974 2.87690747 58.06233569 1 58 C0 57 0 57 -0.12025452 54.71580505 C-0.11803391 53.70542679 -0.11581329 52.69504852 -0.11352539 51.65405273 C-0.11344986 50.5129454 -0.11337433 49.37183807 -0.11329651 48.19615173 C-0.10813522 46.9545076 -0.10297394 45.71286346 -0.09765625 44.43359375 C-0.0962413 43.16983414 -0.09482635 41.90607452 -0.09336853 40.60401917 C-0.08870582 37.23875111 -0.0797148 33.8735501 -0.06866455 30.50830078 C-0.05844846 27.0765033 -0.05387049 23.64469891 -0.04882812 20.21289062 C-0.0377738 13.47524176 -0.0210171 6.73762475 0 0 Z "
                fill="#010101"
                transform="translate(304,100)"
              />
              <path
                d="M0 0 C8.1984375 -0.2165625 8.1984375 -0.2165625 16.5625 -0.4375 C19.12946655 -0.53309204 19.12946655 -0.53309204 21.74829102 -0.63061523 C32.50037183 -0.86513645 32.50037183 -0.86513645 36.51123047 1.44873047 C38.2686792 3.2061792 39.59660146 4.95576587 41 7 C42.05912598 7.76256104 42.05912598 7.76256104 43.13964844 8.54052734 C46.22490072 12.61937662 45.50873318 17.10872153 45.42578125 22.07421875 C45.42084908 23.69358086 45.42084908 23.69358086 45.41581726 25.34565735 C45.40540132 27.62446125 45.38545983 29.90323868 45.35668945 32.18188477 C45.31253713 35.68455437 45.29524401 39.18653946 45.28320312 42.68945312 C45.26978276 44.90105164 45.25486081 47.11264166 45.23828125 49.32421875 C45.23089432 50.37832443 45.22350739 51.43243011 45.21589661 52.51847839 C45.20306137 53.48650894 45.19022614 54.45453949 45.17700195 55.4519043 C45.16715775 56.3080986 45.15731354 57.16429291 45.14717102 58.0464325 C45 60 45 60 44 61 C41.62458949 61.08838648 39.2776642 61.11537523 36.90234375 61.09765625 C34.95702759 61.09390991 34.95702759 61.09390991 32.97241211 61.09008789 C31.31089111 61.08098389 29.64937012 61.07187988 27.9375 61.0625 C22.678125 61.041875 17.41875 61.02125 12 61 C12 76.18 12 91.36 12 107 C14.31 107 16.62 107 19 107 C18.505 108.98 18.505 108.98 18 111 C-10.05 111 -38.1 111 -67 111 C-67.33 109.68 -67.66 108.36 -68 107 C-41.93 107 -15.86 107 11 107 C11 91.49 11 75.98 11 60 C7.37 60 3.74 60 0 60 C0 40.2 0 20.4 0 0 Z "
                fill="#E1D1C9"
                transform="translate(152,97)"
              />
              <path
                d="M0 0 C5.40375 -0.20625 10.8075 -0.4125 16.375 -0.625 C18.05899902 -0.71604004 19.74299805 -0.80708008 21.47802734 -0.90087891 C28.42792067 -1.1346451 34.33635961 -0.86040255 40.0625 3.5 C47.12758802 12.0013391 45.0242554 24.24887941 44.625 34.625 C44.57478441 36.89182899 44.5291667 39.15876478 44.48828125 41.42578125 C44.38715583 46.95531942 44.19157302 52.46992553 44 58 C29.48 58 14.96 58 0 58 C0 38.86 0 19.72 0 0 Z "
                fill="#E0D1C9"
                transform="translate(202,56)"
              />
              <path
                d="M0 0 C4.49784829 -0.27503306 8.99107564 -0.47286539 13.49487305 -0.60424805 C15.02113158 -0.65907309 16.54682577 -0.73377737 18.07104492 -0.82983398 C26.29495226 -1.33455032 32.82598429 -1.24720546 39.52734375 4.1328125 C46.71158868 12.57993693 45.21414184 23.07978925 44.75 33.5625 C44.70332361 35.61512657 44.66161391 37.66787241 44.625 39.72070312 C44.5423813 43.45146578 44.44436496 47.17998429 44.28808594 50.90844727 C44.2571283 51.65248306 44.22617065 52.39651886 44.1942749 53.1631012 C44 55 44 55 43 57 C38.23203833 58.15951393 33.45312669 58.14592197 28.57421875 58.1328125 C27.39192436 58.13424759 27.39192436 58.13424759 26.18574524 58.13571167 C24.53097452 58.13638879 22.87620108 58.13456732 21.22143555 58.13037109 C18.67816302 58.12498021 16.13506422 58.13035017 13.59179688 58.13671875 C11.98177044 58.13605859 10.37174412 58.13477871 8.76171875 58.1328125 C7.99824631 58.13483673 7.23477386 58.13686096 6.44816589 58.13894653 C1.11497542 58.11497542 1.11497542 58.11497542 0 57 C-0.09370624 55.22008076 -0.11744271 53.43643261 -0.11352539 51.65405273 C-0.11344986 50.5129454 -0.11337433 49.37183807 -0.11329651 48.19615173 C-0.10813522 46.9545076 -0.10297394 45.71286346 -0.09765625 44.43359375 C-0.0962413 43.16983414 -0.09482635 41.90607452 -0.09336853 40.60401917 C-0.08870582 37.23875111 -0.0797148 33.8735501 -0.06866455 30.50830078 C-0.05844846 27.0765033 -0.05387049 23.64469891 -0.04882812 20.21289062 C-0.0377738 13.47524176 -0.0210171 6.73762475 0 0 Z "
                fill="#DECEC7"
                transform="translate(304,100)"
              />
              <path
                d="M0 0 C4.35541936 -0.27517229 8.70605546 -0.47291856 13.06762695 -0.60424805 C14.54541214 -0.65905226 16.02261533 -0.73374117 17.49829102 -0.82983398 C25.43006738 -1.33279844 31.97505658 -1.10621307 38.49609375 4.06640625 C45.89851798 12.72269768 44.20286924 23.88248214 43.75 34.625 C43.70333142 36.78244969 43.66162011 38.94001261 43.625 41.09765625 C43.5423159 45.01266049 43.44466043 48.92557439 43.28808594 52.83837891 C43.2571283 53.6201651 43.22617065 54.40195129 43.1942749 55.20742798 C43 57 43 57 42 58 C38.98191937 58.101137 35.98719487 58.13968909 32.96875 58.1328125 C32.06249878 58.13376923 31.15624756 58.13472595 30.22253418 58.13571167 C28.30248953 58.13639353 26.38244259 58.13453882 24.46240234 58.13037109 C21.51264296 58.12502292 18.56303586 58.13031588 15.61328125 58.13671875 C13.75260383 58.13605797 11.8919265 58.13477681 10.03125 58.1328125 C8.69846008 58.13584885 8.69846008 58.13584885 7.33874512 58.13894653 C1.11494988 58.11494988 1.11494988 58.11494988 0 57 C-0.09370624 55.22008076 -0.11744271 53.43643261 -0.11352539 51.65405273 C-0.11344986 50.5129454 -0.11337433 49.37183807 -0.11329651 48.19615173 C-0.10813522 46.9545076 -0.10297394 45.71286346 -0.09765625 44.43359375 C-0.0962413 43.16983414 -0.09482635 41.90607452 -0.09336853 40.60401917 C-0.08870582 37.23875111 -0.0797148 33.8735501 -0.06866455 30.50830078 C-0.05844846 27.0765033 -0.05387049 23.64469891 -0.04882812 20.21289062 C-0.0377738 13.47524176 -0.0210171 6.73762475 0 0 Z "
                fill="#DFD0C8"
                transform="translate(255,56)"
              />
              <path
                d="M0 0 C6.27 0 12.54 0 19 0 C19 1.98 19 3.96 19 6 C17.68 6.33 16.36 6.66 15 7 C15 17.89 15 28.78 15 40 C33.315 40.495 33.315 40.495 52 41 C53.32 35.72 54.64 30.44 56 25 C56.66 22.69 57.32 20.38 58 18 C55.36 18 52.72 18 50 18 C49.505 15.03 49.505 15.03 49 12 C48.38125 11.938125 47.7625 11.87625 47.125 11.8125 C45 11 45 11 43.9375 8.625 C43.628125 7.75875 43.31875 6.8925 43 6 C41.96040481 4.12640605 41.96040481 4.12640605 40 3 C37.32007298 2.45340102 34.73671493 2.2243209 32 2 C32 1.34 32 0.68 32 0 C41.57 0 51.14 0 61 0 C61 0.66 61 1.32 61 2 C64.63 2 68.26 2 72 2 C72 16.85 72 31.7 72 47 C48.24 47 24.48 47 0 47 C0 31.49 0 15.98 0 0 Z "
                fill="#010100"
                transform="translate(91,155)"
              />
              <path
                d="M0 0 C1.65322266 0.01740234 1.65322266 0.01740234 3.33984375 0.03515625 C4.99693359 0.04869141 4.99693359 0.04869141 6.6875 0.0625 C7.54214844 0.07410156 8.39679688 0.08570313 9.27734375 0.09765625 C9.27734375 0.75765625 9.27734375 1.41765625 9.27734375 2.09765625 C10.49421875 1.99453125 11.71109375 1.89140625 12.96484375 1.78515625 C16.57877097 1.7787372 17.19501589 2.03591035 20.27734375 4.34765625 C22.27734375 7.09765625 22.27734375 7.09765625 22.27734375 11.09765625 C24.75234375 11.59265625 24.75234375 11.59265625 27.27734375 12.09765625 C27.27734375 14.07765625 27.27734375 16.05765625 27.27734375 18.09765625 C29.91734375 18.09765625 32.55734375 18.09765625 35.27734375 18.09765625 C34.66069239 23.49158364 33.39811579 28.38160908 31.71484375 33.53515625 C31.36389648 34.6324707 31.36389648 34.6324707 31.00585938 35.75195312 C30.43467153 37.53545804 29.85671252 39.31679208 29.27734375 41.09765625 C24.02628933 41.12230553 18.7752683 41.14049193 13.52416992 41.15258789 C11.73640354 41.15762843 9.9486413 41.16446079 8.16088867 41.1730957 C5.59683207 41.18517355 3.03282978 41.19088719 0.46875 41.1953125 C-0.73750282 41.20305443 -0.73750282 41.20305443 -1.96812439 41.21095276 C-3.8866734 41.2111484 -5.80510993 41.15967608 -7.72265625 41.09765625 C-8.72265625 40.09765625 -8.72265625 40.09765625 -8.83618164 36.95483398 C-8.83602258 35.56362928 -8.83033131 34.17241864 -8.8203125 32.78125 C-8.81889755 32.05019547 -8.8174826 31.31914093 -8.81602478 30.56593323 C-8.81041033 28.22229993 -8.79785547 25.87876086 -8.78515625 23.53515625 C-8.78014311 21.94987117 -8.77557988 20.36458459 -8.77148438 18.77929688 C-8.76043622 14.88538015 -8.74316197 10.9915342 -8.72265625 7.09765625 C-7.07265625 6.76765625 -5.42265625 6.43765625 -3.72265625 6.09765625 C-3.74328125 5.29328125 -3.76390625 4.48890625 -3.78515625 3.66015625 C-3.6984952 0.10705314 -3.5643909 0.12784759 0 0 Z "
                fill="#FDC743"
                transform="translate(113.72265625,154.90234375)"
              />
              <path
                d="M0 0 C0.71671875 -0.03738281 1.4334375 -0.07476562 2.171875 -0.11328125 C4.296875 -0.1484375 4.296875 -0.1484375 8.25 0.375 C9.92450967 2.03378658 11.59111531 3.70058753 13.25 5.375 C16.01573327 6.11760405 18.70963475 6.1645547 21.5625 6.1875 C22.30306641 6.21263672 23.04363281 6.23777344 23.80664062 6.26367188 C25.62052969 6.32218443 27.43531903 6.35154349 29.25 6.375 C29.745 7.86 29.745 7.86 30.25 9.375 C31.24 9.705 32.23 10.035 33.25 10.375 C33.27886338 14.85415328 33.29675187 19.33328291 33.3125 23.8125 C33.32087891 25.09189453 33.32925781 26.37128906 33.33789062 27.68945312 C33.34111328 28.90439453 33.34433594 30.11933594 33.34765625 31.37109375 C33.35289307 32.49700928 33.35812988 33.6229248 33.36352539 34.78295898 C33.25 37.375 33.25 37.375 32.25 38.375 C29.22022196 38.46371273 26.21332978 38.4901935 23.18359375 38.47265625 C22.27497086 38.4712413 21.36634796 38.46982635 20.43019104 38.46836853 C17.51592779 38.46275193 14.60174019 38.45019665 11.6875 38.4375 C9.71679798 38.43248714 7.74609476 38.42792386 5.77539062 38.42382812 C0.93356441 38.41277711 -3.90820495 38.39550138 -8.75 38.375 C-8.77464928 33.12394558 -8.79283568 27.87292455 -8.80493164 22.62182617 C-8.80997218 20.83405979 -8.81680454 19.04629755 -8.82543945 17.25854492 C-8.8375173 14.69448832 -8.84323094 12.13048603 -8.84765625 9.56640625 C-8.85281754 8.7622377 -8.85797882 7.95806915 -8.86329651 7.12953186 C-8.86349215 5.21098285 -8.81201983 3.29254632 -8.75 1.375 C-6.70871653 -0.66628347 -2.78647677 0.05396346 0 0 Z "
                fill="#FEC742"
                transform="translate(363.75,158.625)"
              />
              <path
                d="M0 0 C1.65322266 0.01740234 1.65322266 0.01740234 3.33984375 0.03515625 C4.99693359 0.04869141 4.99693359 0.04869141 6.6875 0.0625 C7.54214844 0.07410156 8.39679688 0.08570313 9.27734375 0.09765625 C9.27734375 0.75765625 9.27734375 1.41765625 9.27734375 2.09765625 C10.49421875 1.99453125 11.71109375 1.89140625 12.96484375 1.78515625 C16.29801062 1.82067845 17.28811505 2.10416391 20.27734375 3.91015625 C22.27734375 7.09765625 22.27734375 7.09765625 22.27734375 18.09765625 C11.38734375 18.59265625 11.38734375 18.59265625 0.27734375 19.09765625 C-0.71265625 22.39765625 -1.70265625 25.69765625 -2.72265625 29.09765625 C-3.05265625 29.09765625 -3.38265625 29.09765625 -3.72265625 29.09765625 C-3.74731506 25.12834636 -3.76549648 21.15906591 -3.77758789 17.18969727 C-3.78262682 15.83845239 -3.78945802 14.48721299 -3.7980957 13.13598633 C-3.81018044 11.19745191 -3.81535453 9.25887825 -3.8203125 7.3203125 C-3.82554932 6.15250244 -3.83078613 4.98469238 -3.83618164 3.78149414 C-3.68244181 0.14695221 -3.6406551 0.13058304 0 0 Z "
                fill="#E3E3D8"
                transform="translate(113.72265625,154.90234375)"
              />
              <path
                d="M0 0 C10.89 0 21.78 0 33 0 C33 0.33 33 0.66 33 1 C22.44 1 11.88 1 1 1 C1 16.18 1 31.36 1 47 C3.31 47 5.62 47 8 47 C7.67 48.32 7.34 49.64 7 51 C-21.05 51 -49.1 51 -78 51 C-78.33 49.68 -78.66 48.36 -79 47 C-52.93 47 -26.86 47 0 47 C0 31.49 0 15.98 0 0 Z "
                fill="#9D9DA0"
                transform="translate(163,157)"
              />
              <path
                d="M0 0 C0.71671875 -0.03738281 1.4334375 -0.07476562 2.171875 -0.11328125 C4.296875 -0.1484375 4.296875 -0.1484375 8.25 0.375 C9.92450967 2.03378658 11.59111531 3.70058753 13.25 5.375 C16.01573327 6.11760405 18.70963475 6.1645547 21.5625 6.1875 C22.30306641 6.21263672 23.04363281 6.23777344 23.80664062 6.26367188 C25.62052969 6.32218443 27.43531903 6.35154349 29.25 6.375 C29.745 7.86 29.745 7.86 30.25 9.375 C18.37 9.375 6.49 9.375 -5.75 9.375 C-5.75 18.615 -5.75 27.855 -5.75 37.375 C-7.235 37.87 -7.235 37.87 -8.75 38.375 C-8.77464928 33.12394558 -8.79283568 27.87292455 -8.80493164 22.62182617 C-8.80997218 20.83405979 -8.81680454 19.04629755 -8.82543945 17.25854492 C-8.8375173 14.69448832 -8.84323094 12.13048603 -8.84765625 9.56640625 C-8.85281754 8.7622377 -8.85797882 7.95806915 -8.86329651 7.12953186 C-8.86349215 5.21098285 -8.81201983 3.29254632 -8.75 1.375 C-6.70871653 -0.66628347 -2.78647677 0.05396346 0 0 Z "
                fill="#DEAB30"
                transform="translate(363.75,158.625)"
              />
              <path
                d="M0 0 C27.06 0 54.12 0 82 0 C82 0.99 82 1.98 82 3 C73.21667931 4.00127932 64.49664649 4.16331401 55.6640625 4.16796875 C54.21202564 4.1711902 52.75998909 4.17455491 51.30795288 4.17805481 C48.28748826 4.18399675 45.26705207 4.18589944 42.24658203 4.18530273 C38.38321906 4.18520046 34.52003716 4.19894161 30.6567173 4.21607494 C27.667828 4.22719733 24.6789828 4.229222 21.69007492 4.22869301 C20.26516461 4.22986933 18.84025301 4.23427149 17.41536331 4.24202538 C15.42748649 4.2518458 13.43955554 4.24767766 11.45166016 4.24291992 C9.75935776 4.24505745 9.75935776 4.24505745 8.03286743 4.24723816 C4.96815897 3.99740433 2.76850891 3.30032117 0 2 C0 1.34 0 0.68 0 0 Z "
                fill="#B6B7B8"
                transform="translate(335,203)"
              />
              <path
                d="M0 0 C1.32 0 2.64 0 4 0 C4.0583721 4.35410978 4.09372173 8.70811793 4.125 13.0625 C4.14175781 14.29162109 4.15851563 15.52074219 4.17578125 16.78710938 C4.18222656 17.98271484 4.18867187 19.17832031 4.1953125 20.41015625 C4.20578613 21.50465088 4.21625977 22.59914551 4.22705078 23.72680664 C4 27 4 27 2 34 C13.55 34 25.1 34 37 34 C37 34.33 37 34.66 37 35 C31.74894558 35.02464928 26.49792455 35.04283568 21.24682617 35.05493164 C19.45905979 35.05997218 17.67129755 35.06680454 15.88354492 35.07543945 C13.31948832 35.0875173 10.75548603 35.09323094 8.19140625 35.09765625 C6.98515343 35.10539818 6.98515343 35.10539818 5.75453186 35.11329651 C3.83598285 35.11349215 1.91754632 35.06201983 0 35 C-1.70492881 33.29507119 -1.1280442 31.15465739 -1.13894653 28.88098145 C-1.1369223 28.16744507 -1.13489807 27.45390869 -1.1328125 26.71875 C-1.13376923 25.99006714 -1.13472595 25.26138428 -1.13571167 24.51062012 C-1.13639335 22.9672029 -1.13453988 21.42378283 -1.13037109 19.88037109 C-1.12502262 17.510026 -1.13031642 15.13987041 -1.13671875 12.76953125 C-1.13605797 11.27343708 -1.1347768 9.77734303 -1.1328125 8.28125 C-1.13483673 7.56771362 -1.13686096 6.85417725 -1.13894653 6.11901855 C-1.11495191 1.11495191 -1.11495191 1.11495191 0 0 Z "
                fill="#D4A42F"
                transform="translate(106,161)"
              />
              <path
                d="M0 0 C3.61002187 1.80501093 4.71211689 2.54165113 7.0625 5.5 C9.00872186 7.93664912 10.33393182 9.22262121 13 11 C13.36076355 13.10073853 13.36076355 13.10073853 13.34057617 15.72509766 C13.34034958 16.70596344 13.34012299 17.68682922 13.33988953 18.69741821 C13.32440567 19.75891083 13.30892181 20.82040344 13.29296875 21.9140625 C13.28872391 22.99883881 13.28447906 24.08361511 13.28010559 25.20126343 C13.263273 28.67609167 13.22561189 32.15034618 13.1875 35.625 C13.17245911 37.97655414 13.15876967 40.32811735 13.14648438 42.6796875 C13.11335454 48.45332173 13.06310982 54.22661989 13 60 C12.67 60 12.34 60 12 60 C12 44.16 12 28.32 12 12 C8.37 12 4.74 12 1 12 C0.67 8.04 0.34 4.08 0 0 Z "
                fill="#CBCAC2"
                transform="translate(184,97)"
              />
              <path
                d="M0 0 C5.66253402 2.65332482 9.85095323 5.45906756 13 11 C14.52397407 18.36734969 13.84439147 26.09562636 13.5625 33.5625 C13.51730758 35.64118943 13.47625136 37.71997315 13.43945312 39.79882812 C13.34075535 44.86822955 13.18573553 49.93307132 13 55 C12.67 55 12.34 55 12 55 C11.67 40.81 11.34 26.62 11 12 C7.7 11.67 4.4 11.34 1 11 C0 10 0 10 -0.09765625 7.71484375 C-0.08605469 6.79832031 -0.07445312 5.88179688 -0.0625 4.9375 C-0.05347656 4.01839844 -0.04445313 3.09929687 -0.03515625 2.15234375 C-0.02355469 1.44207031 -0.01195312 0.73179688 0 0 Z "
                fill="#B1B0AC"
                transform="translate(335,100)"
              />
              <path
                d="M0 0 C4.98046875 4.19921875 4.98046875 4.19921875 7 6 C7.85658203 6.64453125 8.71316406 7.2890625 9.59570312 7.953125 C13.09052673 12.3819835 12.63263682 16.06670598 12.48828125 21.55078125 C12.47766914 23.07169624 12.47766914 23.07169624 12.46684265 24.62333679 C12.43891012 27.8538163 12.37617162 31.08254661 12.3125 34.3125 C12.28741575 36.5058343 12.26460281 38.69919584 12.24414062 40.89257812 C12.18908755 46.26231302 12.10547273 51.63103154 12 57 C11.67 57 11.34 57 11 57 C10.67 42.15 10.34 27.3 10 12 C6.7 11.67 3.4 11.34 0 11 C0 7.37 0 3.74 0 0 Z "
                fill="#C9C7C1"
                transform="translate(286,56)"
              />
              <path
                d="M0 0 C3.66771845 1.83385923 5.46834996 3.25062829 8.25 6.125 C8.95640625 6.84945312 9.6628125 7.57390625 10.390625 8.3203125 C11.18726563 9.15175781 11.18726563 9.15175781 12 10 C11.67 10.66 11.34 11.32 11 12 C7.37 11.67 3.74 11.34 0 11 C0 7.37 0 3.74 0 0 Z "
                fill="#CDCCC1"
                transform="translate(234,56)"
              />
              <path
                d="M0 0 C2.475 0.495 2.475 0.495 5 1 C5 2.98 5 4.96 5 7 C3.35 7 1.7 7 0 7 C0 4.69 0 2.38 0 0 Z "
                fill="#DEAE37"
                transform="translate(136,166)"
              />
              <path
                d="M0 0 C3.36720387 1.39332574 4.9859524 2.9789286 7 6 C5.00045254 6.04254356 2.99958364 6.04080783 1 6 C0 5 0 5 -0.0625 2.4375 C-0.041875 1.633125 -0.02125 0.82875 0 0 Z "
                fill="#D7D5C8"
                transform="translate(129,157)"
              />
              <path
                d="M0 0 C1.85625 0.061875 1.85625 0.061875 3.75 0.125 C3.75 1.115 3.75 2.105 3.75 3.125 C-0.21 2.795 -4.17 2.465 -8.25 2.125 C-4.63863788 0.31931894 -3.705469 -0.12351563 0 0 Z "
                fill="#B0B1B3"
                transform="translate(167.25,203.875)"
              />
            </svg>
            <h1 className="text-2xl text-white font-semibold">
              PeerChat, Where Conversation Meet Simplicity
            </h1>
          </div>
        )}
      </div>
    </div>
  );
};

export default Chat;
